### 2305008
### network
- P2P: í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ëª¨ë‘ ì‘ë™ë˜ëŠ” ì„œë²„

### Ethereum bitcoin
- tcpê¸°ë°˜ìœ¼ë¡œ ë…¸ë“œë“¤ê³¼ í†µì‹ ì„ ì§„í–‰í•¨

### ë¸Œë¼ìš°ì €ê°€ ë…¸ë“œì— ìˆëŠ” ë°ì´í„°ë¥¼ ê°€ì§€ê³  ì˜¤ê³ ì‹¶ë‹¤ë©´...
ë¸Œë¼ìš°ì €ê°€ ë…¸ë“œì— ìˆëŠ” ë°ì´í„°ë¥¼ ê°€ì§€ê³  ì˜¤ê³  ì‹¶ë‹¤ë©´ í†µì‹ ì„ í•˜ë©´ ë˜ëŠ”ë°
ì–´ë–¤ ìš”ì²­ì„ ë³´ë‚´ì•¼í• ê¹Œ? ë…¸ë“œê°€ httpì— ëŒ€í•œ í¬íŠ¸ì™€ ì›¹ì†Œì¼“ì— ëŒ€í•œ í¬íŠ¸ë¥¼ 
ì—´ê³ , ë…¸ë“œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë‘ê°œì˜ í¬íŠ¸ë¥¼ ì—´ì–´ë‘  ì›¹ì†Œì¼“ì— ëŒ€í•œ í¬íŠ¸, httpì•  ëŒ€í•œ í¬íŠ¸ë¥¼ ì—´ì–´ë‘ 
tcp í¬íŠ¸ë„ ì—´ì–´ë‘ëŠ”ë° ë…¸ë“œë“¤ë¼ë¦¬ì˜ ì»¤ë„¥ì…˜ì„ ìœ„í•˜ì—¬ ì—´ì–´ë‘”ë‹¤.

### ë…¸ë“œë“¤ì€ 3ê°€ì§€ì˜ `port`ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤(í´ë¼ì´ì–¸íŠ¸ì— ê´€ë ¨ëœ í¬íŠ¸ ë‘ê°œì™€ nodeì— ëŒ€í•œ í¬íŠ¸ 1ê°œë¡œ êµ¬ì„±)
- HTTP, TCP: ì›¹ë¸Œë¼ìš°ì € ë˜ëŠ” `í´ë¼ì´ì–¸íŠ¸`ì— ê´€ë ¨ëœ í¬íŠ¸ê°€ ë‘ê°œì´ë‹¤.
- WS: `node`ë“¤ë¼ë¦¬ ìƒí˜¸ì‘ìš© í•  ìˆ˜ ìˆëŠ” `port`ê°€ 1ê°œìˆë‹¤.
- í•˜ì§€ë§Œ ë¹„ìš©ì´ ë§ì´ ë°œìƒí•˜ë¯€ë¡œ APIë¥¼ ì‚¬ìš©í•œë‹¤.

|------------|              |------------|
|            |              |            |
|            |              ws           |
|   ë¸Œë¼ìš°ì €   |     ----->   http   ë…¸ë“œ   |
|            |              tcp          |
|------------|              |------------|


### Infra 
- switch ê°™ì€ ê±´ê°€..?
- blockchainë…¸ë“œë“¤ì„ ëŒ€ì‹  ëŒë ¤ì£¼ê³  APIë¥¼ ì œê³µí•´ì¤€ë‹¤(ì–´ëŠì •ë„ì˜ corsì²˜ë¦¬ë„ í•´ì¤Œ)

<img src="./image/blockchain_network.png">


### íƒˆì¤‘ì•™í™”ì™€ ì¤‘ì•™í™”ì˜ ì°¨ì´
ğŸš« 10:05 ë‹¤ì‹œ ë©”ëª¨í•  ê²ƒ, ë¸”ë¡œê·¸ì— ê¼­ ì •ë¦¬í•˜ê¸°!!
ìš”ì²­ì„ ë³´ë‚´ëŠ” ì„œë²„ê°€ ì¤‘ì•™í™”ì„œë²„ì¸ê°€ ì•„ë‹ˆë©´ íƒˆì¤‘ì•™í™” ì„œë²„ì¸ê°€ì˜ ì°¨ì´ì´ë‹¤.

### RPC(Remote Process Call)
- http ê°œë…ì•ˆì— rpcê°€ ì†í•´ìˆë‹¤
- httpì™€ í¡ì‚¬í•˜ë‹¤.
- 7ê³„ì¸µì´ë‹¤.
- í•˜ë‚˜ì˜ í´ë¼ì´ì–¸íŠ¸ì´ë‹¤.
- rpcì˜ ëª©ì : ì„œë²„ê°€ ê°€ì§€ê³  ìˆëŠ” ìš”ì²­ì„ ì‹¤í–‰í–ˆëŠ”ì§€ ì•ˆí–ˆëŠ”ì§€ê°€ ì¤‘ìš”í•¨

|++++++++++++|                   |++++++++++++++|
|            |                   |              |
|            |       RPC         |              |
|   client   |     ------->      |    ë¸”ë¡ë§ˆì´ë‹   |
|            |                   |              |
|++++++++++++|                   |++++++++++++++|


### ì•ìœ¼ë¡œ ë§Œë“¤ì–´ì•¼í•  ê²ƒ!!
### ë…¸ë“œ
- httpì„œë²„ê°€ í•„ìš”í•˜ë‹¤, expressë¡œ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤.
- wsì´ í•„ìš”í•˜ë‹¤, ë…¸ë“œë“¤ì˜ peer(ë…¸ë“œë“¤ì´ ì„œë¡œê°„ì˜ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ì„ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œ...)

### í´ë¼ì´ì–¸íŠ¸
`ë‚´ê°€ ê°€ì§€ê³  ìˆëŠ” ëˆì´ ì–¼ë§ˆê°€ ìˆëŠ”ì§€, ì´ ëˆì€ ìƒëŒ€ë°©ì—ê²Œ ì£¼ê³  ì‹¶ë‹¤ê±°ë‚˜...`
`ì•„ì£¼ ì‹¬í”Œí•œ í˜•íƒœì˜ 'walletì„ êµ¬í˜„í•  ê²ƒì´ë‹¤.`
--> ì—¬ê¸°ì„œ ì‘ìš©ì´ ê°€ëŠ¥í•˜ë‹¤ë©´ explorerë„ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤.

### src > serve ë””ë ‰í† ë¦¬ ìƒì„±
- app.tsíŒŒì¼ ìƒì„±


### app.ts
ìµìŠ¤í”„ë ˆìŠ¤ ì‚¬ìš©ì„ ìœ„í•´ì„œ ì„¤ì¹˜ë¥¼ í•´ì£¼ì.
```sh
npm install express
npm install -D @types/express
```
ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì—ˆë‹¤ë©´ importë¡œ ë¶ˆëŸ¬ì™€ì¤€ë‹¤.

```ts
import express from "express"

const app express()

app.use(express.json())
// typeì¶”ë¡ ì´ ê°€ëŠ¥í•˜ë¯€ë¡œ req,resì— íƒ€ì…ì„ ì‘ì„±í•´ì£¼ì§€ ì•Šì•„ë„ ëœë‹¤.
app.get("/", (req,res) => {
    res.send("hello chopChain")
})

export default app
```

### í´ë¼ì´ì–¸íŠ¸ê°€ ë…¸ë“œì—ê²Œ accountë¥¼ ë³´ë‚´ë©´ ì‘ë‹µìœ¼ë¡œ balanceë¥¼ ë°›ê¸°ë¥¼ ì›í•¨


### ingchain.ts
block, chain, crypto, transaction, walletì— ëŒ€í•œ ë‚´ìš©ì„ ingchain.tsì— ëª¨ì•„ë†“ì•˜ë‹¤.


### index.tsì—ì„œ ë³„ì¹­ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ ì•„ë˜ì™€ ê°™ì´ tsconfig.json, package.jsoníŒŒì¼ì„ ìˆ˜ì •í•´ì£¼ì.
```ts
import app from "@serve/app"
```

### tsconfig.json ìˆ˜ì •
serveì¶”ê°€
```json
"paths": {
            "@constants/*": ["constants/*"],
            "@core/*": ["core/*"],
            "@serve/*": ["serve/*"]
        }
```

### package.json
"^@(serve)ë¡œ ìˆ˜ì •í•´ì¤Œ
```json
"jest": {
        "preset": "ts-jest",
        "testMatch": [
            "<rootDir>/__tests__/**/*.test.ts"
        ],
        "testEnvironment": "node",
        "moduleNameMapper": {
            "^@(serve|constants|core)/(.+)$": "<rootDir>/src/$1/$2"
        }
    },
```

### 8545í¬íŠ¸ì— ìš”ì²­ì„ ë³´ëƒˆì„ ë•Œ hello ingchainì´ë¼ëŠ” ì‘ë‹µì„ ì£¼ê³ ì‹¶ë‹¤.
```ts
import Ingchain from "@core/ingchain"
import express from "express"

// app.tsë¥¼ ë¶ˆëŸ¬ì˜¤ë©´ ë¹ˆ í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.
export default (web3:Ingchain) => {
    // console.log(web3)
    // get localhost:8545

    const app = express()
    app.use(express.json())

    app.get("/", (req, res) => {
        res.send("hello chopChain")
    })

    app.get("/getBalance", (req,res) => {
        // getBalance method call
        res.send("balance...")
    })
}
```

### index.ts
```ts
ì—¬ê¸°ê¹Œì§€ ì‹¤í–‰ëì„ ë•ŒëŠ” í•¨ìˆ˜ ê°’ì´ë‹¤.
import App from "@serve/app"
```

### postmanìœ¼ë¡œ postìš”ì²­ì„ í™•ì¸í•´ë³´ì
ë§¥ë¶ì€ ìš”ì²­ì‹œ localhostëŒ€ì‹  127.0.0.1ë¡œ ìš”ì²­ì„ í•  ê²ƒ!!
http://127.0.0.1:8545/getBalance

### ì±„êµ´ì„ í•˜ë ¤ë©´ ê³„ì •ì„ ë¨¼ì € ë§Œë“¤ì–´ì•¼í•œë‹¤.

### put, post 


### src > wallet ë””ë ‰í† ë¦¬ ìƒì„±